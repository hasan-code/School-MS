{% extends "base.html" %} {% load static %}
<!-- HTML HEAD CONTENTS -->
{% block htmlhead %}

<link rel="stylesheet" href="{% static 'css/send_notifications.css' %}" />

{% endblock htmlhead %} {% block content %}

<!-- HEADER -->
{% include "header.html" %}

<!-- NOTIFICATION MODAL -->
{% include "admin/notifications.html" %}

<!-- SEND NOTIFICATION -->
<div class="send-notification">
  <h3>Send notification(s)</h3>

  <!-- SEND NOTIFICATIONS TO TEACHERS - TABLE -->
  <div class="teacher-table">
    <p>To Teacher</p>
    <div class="search-bar">
      <form action="" method="post">
        {% csrf_token %}
        <div class="input-field">
          <input
            type="text"
            name="search-teacher"
            id="search-teacher"
            onkeyup="searchTeacher()"
            placeholder="Search teacher"
          />

          <button type="submit">
            <span class="material-symbols-rounded"> page_info </span>
          </button>
        </div>
      </form>
    </div>

    <table id="teacherTable">
      <thead>
        <tr>
          <th style="text-align: center">Employment ID.</th>
          <th>Name of the teacher</th>
          <th>Email</th>
          <th style="text-align: center">Action</th>
        </tr>
      </thead>

      <tbody>
        {% for i in teachers %}
        <tr>
          <td style="text-align: center">111</td>
          <td>{{ i.admin.first_name }}&nbsp;{{ i.admin.last_name }}</td>
          <td>{{ i.admin.email }}</td>
          <td style="text-align: center">
            <button class="open-notification-modal">Send Notification</button>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <!-- SEND NOTIFICATIONS TO STUDENTS - TABLE -->
  <div class="student-table">
    <p>To Student</p>
    <div class="search-bar">
      <form action="" method="post">
        {% csrf_token %}
        <div class="input-field">
          <input
            type="text"
            name="search-student"
            id="search-student"
            onkeyup="searchStudent()"
            placeholder="Search student"
          />

          <button type="submit">
            <span class="material-symbols-rounded"> page_info </span>
          </button>
        </div>
      </form>
    </div>

    <table id="studentTable">
      <thead>
        <tr>
          <th>Name of the student</th>
          <th style="text-align: center">Class</th>
          <th>Email</th>
          <th style="text-align: center">Action</th>
        </tr>
      </thead>

      <tbody>
        {% for i in students %}
        <tr>
          <td>{{ i.admin.first_name }}&nbsp;{{ i.admin.last_name }}</td>
          <td style="text-align: center">{{ i.class_id.class_name }}</td>
          <td>{{ i.admin.email }}</td>
          <td style="text-align: center">
            <button class="open-notification-modal">Send Notification</button>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<!-- JAVASCRIPT LINK -->
<script
  src="{% static 'js/send_notifications.js' %}"
  type="text/javascript"
></script>

{% endblock %}
